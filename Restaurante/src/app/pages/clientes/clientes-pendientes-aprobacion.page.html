<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-button (click)="goBack()">
        <ion-icon name="arrow-back"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>Clientes Pendientes</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="ion-padding fondo-oscuro">
  <ion-card *ngIf="clientesPendientes.length === 0" class="no-clients-card">
    <ion-card-header>
      <ion-card-title>No hay clientes pendientes</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      Actualmente no hay usuarios registrados que requieran su aprobaci√≥n.
    </ion-card-content>
  </ion-card>

  <ion-list *ngIf="clientesPendientes.length > 0">
    <ion-card *ngFor="let cliente of clientesPendientes" class="client-card">
      <ion-card-header>
        <div class="client-header">
          <div class="client-photo">
            <img 
              *ngIf="getPhotoUrl(cliente)" 
              [src]="getPhotoUrl(cliente)" 
              alt="Foto de perfil"
              class="profile-image"
            />
            <ion-icon 
              *ngIf="!getPhotoUrl(cliente)" 
              name="person-circle-outline" 
              class="default-avatar">
            </ion-icon>
          </div>
          <div class="client-info">
            <ion-card-title>{{ cliente.name }} {{ cliente.surname }}</ion-card-title>
            <ion-card-subtitle>{{ cliente.email }}</ion-card-subtitle>
            <div class="client-details">
              <p *ngIf="cliente.DNI"><strong>DNI:</strong> {{ cliente.DNI }}</p>
              <p *ngIf="cliente.CUIL"><strong>CUIL:</strong> {{ cliente.CUIL }}</p>
              <p><strong>Tipo:</strong> {{ getRoleLabel(cliente.role_Id) }}</p>
              <p><strong>Registrado:</strong> {{ cliente.created_at | date:'short' }}</p>
            </div>
          </div>
        </div>
      </ion-card-header>
      <ion-card-content>
        <ion-row class="ion-justify-content-end">
          <ion-col size="auto">
            <ion-button color="success" (click)="aceptarCliente(cliente)">
              <ion-icon slot="start" name="checkmark-circle"></ion-icon>
              Aprobar
            </ion-button>
          </ion-col>
          <ion-col size="auto">
            <ion-button color="danger" (click)="rechazarCliente(cliente)">
              <ion-icon slot="start" name="close-circle"></ion-icon>
              Rechazar
            </ion-button>
          </ion-col>
        </ion-row>
      </ion-card-content>
    </ion-card>
  </ion-list>
</ion-content>
